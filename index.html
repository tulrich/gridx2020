<!doctype html>
<!-- Copyright 2016 Google Inc. All Rights Reserved.

Licensed under the Apache License, Version 2.0 (the "License");
you may not use this file except in compliance with the License.
You may obtain a copy of the License at

    http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.
==============================================================================-->

<html>
<head lang="en">
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Electricity Grid Transition</title>
  <link href="https://fonts.googleapis.com/css?family=Roboto:300,400,500|Material+Icons"
        rel="stylesheet" type="text/css">
  <link rel="stylesheet" href="bundle.css">
  <link rel="shortcut icon" href="favicon.ico">
  <script src="lib.js"></script>
</head>
<body>

<div id="container" class="mdl-layout mdl-js-layout">

  <!-- Page header -->
  <header class="mdl-layout__header mdl-layout__header--scroll">
    <!-- <div class="mdl-layout-icon"></div> <!-- ? -->
    <div class="mdl-layout__header-row">
      <span class="mdl-layout__title">Grid Transition</span>&nbsp(0.90)
      <div class="mdl-layout-spacer"></div>
      <nav class="mdl-navigation">
        <a class="mdl-navigation__link model-link" href="">Model</a>
        <a class="mdl-navigation__link about-link" href="">About</a>
      </nav>
    </div>
  </header>

  <div class="mdl-layout__drawer">
    <span class="mdl-layout__title">Grid Transition&nbsp(0.90)</span>
    <nav class="mdl-navigation">
      <a class="mdl-navigation__link model-link" href="">Model</a>
      <a class="mdl-navigation__link download-csv-link" href="">Download CSV (~10MB)</a>
      <a class="mdl-navigation__link about-link" href="">About</a>
    </nav>
  </div>

  <!-- Main page content region -->
  <main id="scroll-container" class="mdl-layout__content">

    <div class="my-mdl-tabs my-mdl-js-tabs">
      <!-- Utility mode -->
      <!-- <div class="my-mdl-tabs__panel is-active" id="utility-mode"> -->
      <div class="" id="utility-mode">
        <!-- <h1>Electricity Grid Transition</h1> -->
        <!-- <div id="utility-mode-columns" class="mdl-grid mode-description">
          <div class="mdl-cell mdl-cell--4-col">
            -->
            <h2>Plan electricity grid strategy for 2020-2040</h2>
            <!--
            <p class="description">
	      Choose a grid strategy for the years 2020-2040.
            </p>
            -->
            <!--
          </div>
        </div>
        -->

        <div class="mdl-tabs__tab-bar" role="tablist" id="graph-tabs">

          <a href="#profile-20-year-panel" class="mdl-tabs__tab is-active" role="tab">
            <button class="mdl-button utility-graph-tab" role="tab" aria-selected="true" tabindex="1">
              20 yr
            </button>
          </a>

          <a href="#profile-focus-panel" class="mdl-tabs__tab" role="tab" id="profile-focus-tab">
            <button class="mdl-button utility-graph-tab" role="tab" aria-selected="true" tabindex="2">
              1 wk
            </button>
          </a>

          <a href="#co2-cost-panel" class="mdl-tabs__tab mini utility-graph-tab" role="tab" id="co2-cost-tab">
            <button class="mdl-button utility-graph-tab mini" role="tab" aria-selected="true" tabindex="3">
              <div><span class="utility-mode-co2"></span>g/kWh</div>
              <div>$<span class="utility-mode-cost"></span>/MWh</div>
            </button>
          </a>

        </div>

        <!-- Utility mode supply and demand viz -->
        <div class="mdl-grid utility-hero-box">
          <!-- <div class="mdl-cell mdl-cell--4-col"> -->
          <div class="mdl-cell mdl-cell--4-col utility-graphs-row">
            <div class="my-mdl-tabs__panel is-active" id="profile-20-year-panel">
              <div id="utility-mode-profiles-chart"
                   class="energy-profiles-chart utility-mode-profiles-chart"></div>
            </div>
            <div class="my-mdl-tabs__panel" id="profile-focus-panel">
	      <div id="utility-mode-highlight-profiles-chart"
                   class="energy-profiles-chart utility-mode-profiles-chart"></div>
            </div>
            <div class="my-mdl-tabs__panel" id="co2-graph-panel">
              <!--
              <div id="utility-mode-co2-profiles-chart"
                   class="energy-profiles-chart utility-mode-profiles-chart">
              </div>
              -->
            </div>
            <div class="my-mdl-tabs__panel" id="co2-cost-panel">
              <div id="utility-outcome-summary">
                <div id="utility-mode-co2-profiles-chart"
                     class="energy-profiles-chart utility-mode-profiles-chart">
                </div>
                <div class="utility-outcome-section head utility-outcome-summary">
                  <!-- <h2>
                    Projected CO2 thru 2040
                    <i id="tooltip-launcher-utility-co2" class="material-icons info">info_outline</i>
                  </h2> -->
                  <span class="tooltip mdl-tooltip mdl-tooltip--top"
                        for="tooltip-launcher-utility-co2">
                    Each energy source used for fulfilling energy demand may emit CO2.
                  </span>
                </div>
                <div class="utility-outcome-section utility-outcome-summary">
                  <div id="utility-mode-goal-progress" class="utility-mode-goal-progress"></div>
                </div>
                <div class="utility-outcome-section utility-outcome-summary">
                  <h2>
                    Cost impact, LCOE: $<span class="utility-mode-cost"></span>/MWh
                  </h2>
                </div>
                <div id="utility-outcome-summary-unmet" class="utility-outcome-summary-unmet" >
                  <h2>
                    <i class="material-icons title-icon">report_problem</i>
                    Energy demand not fulfilled!
                  </h2>
                  <!-- <p>
                       Look for empty areas in the energy profile chart to the left;
                       these empty regions show where the unfulfilled demand exists.
                       </p>
                    -->
                </div>
              </div>
            </div>
          </div>
        </div>
        <!-- Utility mode energy source allocation sliders -->
        <div class="mode-data-controls">
          <div class="utility-controls"> <!-- mdl-grid -->

            <div class="mdl-tabs__tab-bar" role="tablist" id="slider-tabs">

              <a href="#solar-tab" class="mdl-tabs__tab is-active" role="tab">
                <button class="mdl-button utility-source-tab">
                  S
                </button>
              </a>

              <a href="#wind-tab" class="mdl-tabs__tab" role="tab">
                <button class="mdl-button utility-source-tab">
                  W
                </button>
              </a>

              <a href="#hydro-tab" class="mdl-tabs__tab" role="tab">
                <button class="mdl-button utility-source-tab">
                  H
                </button>
              </a>

              <a href="#nuclear-tab" class="mdl-tabs__tab" role="tab">
                <button class="mdl-button utility-source-tab">
                  N
                </button>
              </a>

              <a href="#ng-tab" class="mdl-tabs__tab" role="tab">
                <button class="mdl-button utility-source-tab">
                  G
                </button>
              </a>

              <a href="#coal-tab" class="mdl-tabs__tab" role="tab">
                <button class="mdl-button utility-source-tab">
                  C
                </button>
              </a>

              <a href="#battery-tab" class="mdl-tabs__tab" role="tab">
                <button class="mdl-button utility-source-tab">
                  B
                </button>
              </a>

              <a href="#h2-tab" class="mdl-tabs__tab" role="tab">
                <button class="mdl-button utility-source-tab">
                  H
                </button>
              </a>

            </div>

            <div class="utility-controls-row mdl-tabs"> <!--  mdl-js-tabs"> -->

              <div class="my-mdl-tabs__panel is-active" id="solar-tab">
                <div class="utility-controls-option option solar">
                  <div>
                    <div class="utility-source-legend-tile"></div>
                    <label class="utility-source-legend-label">Solar plan</label>
                    <i id="tooltip-launcher-utility-solar" class="material-icons info">info_outline</i>
                  </div>
                  <span class="tooltip mdl-tooltip mdl-tooltip--top"
                        for="tooltip-launcher-utility-solar">
                    The plans allow two ramps for each source.
                    <ul>
                      <li>Ramp build to, at year: build towards target nameplate capacity of the source at the given year, as a fraction of year-one average demand.</li>
                    </ul>
                    The first ramp starts at the first year (but new
                    plants can't come online sooner than the source's
                    build time). The second ramp comes after the first
                    ramp.
                  </span>
                  <div id="solar-ramp0-build-fraction-slider" class="utility-slider"><div class="utility-slider-caption">ramp build to</div></div>
                  <div id="solar-ramp0-at-year-slider" class="utility-slider"><div class="utility-slider-caption">at year</div></div>
                  <div id="solar-ramp1-build-fraction-slider" class="utility-slider"><div class="utility-slider-caption">ramp build to</div></div>
                  <div id="solar-ramp1-at-year-slider" class="utility-slider"><div class="utility-slider-caption">at year</div></div>
                </div>

                <div class="utility-controls-option option solar">
                  <div class="utility-source-legend-tile"></div>
                  <label class="utility-source-legend-label">Solar Assumptions</label>
                  <i id="tooltip-launcher-source-assumptions" class="material-icons info">info_outline</i>
                  <span class="tooltip mdl-tooltip mdl-tooltip--right"
                        for="tooltip-launcher-source-assumptions">
                    <p>These settings are the assumptions for the model. The defaults
                    should be reasonable for the US northeast in 2019 but
                    you can correct here for local conditions or better
                    information.</p>
                    <ul>
                      <li>First year share: nameplate capacity for the source at the start of the scenario, as a fraction of average year-one demand.</li>
                      <li>Build time: how long it takes to build capacity of this source, before it starts producing.</li>
                      <li>Build cost: total cost to build source capacity. Spread evenly over the build time.</li>
                      <li>Annual plant cost: annual cost to operate and maintain a plant, as a function of nameplate capacity.</li>
                      <li>Variable cost: input cost per unit of energy delivered (includes fuel).</li>
                      <li>Cost learning rate: percent cost reduction per doubling of capacity built.</li>
                      <li>CO2 intensity: how much CO2 is emitted per increment of energy produced. Lifecycle emissions (see About for details).</li>
                      <li>Plant lifetime: how long a plant produces.</li>
                      <li>Max cap factor: average availability accounting for maintenance/refueling downtime.</li>
                      <li>Round trip efficiency: for storage, how much of input energy is ultimately returned to the grid.</li>
                      <li>Storage duration: for storage, hours of storage per increment of power capacity.</li>
                    </ul>
                  </span>
                  <div id="solar-initial-fraction-slider" class="utility-slider">
                    <div class="utility-slider-caption">
                      first year share
                      <!--
                          <i id="tooltip-launcher-source-first-year-share" class="material-icons info">info_outline</i>
                          <span class="tooltip mdl-tooltip mdl-tooltip--right"
                                for="tooltip-launcher-source-first-year-share">
                            First year share: nameplate capacity for the source at the start of the scenario, as a fraction of peak year-one demand.
                          </span>
                          -->
                    </div>
                  </div>
                  <div id="solar-build-time-slider" class="utility-slider">
                    <div class="utility-slider-caption">
                      build time
                    </div>
                  </div>
                  <div id="solar-build-cost-slider" class="utility-slider"><div class="utility-slider-caption">build cost</div></div>
                  <div id="solar-operating-cost-slider" class="utility-slider"><div class="utility-slider-caption">annual plant cost</div></div>
                  <div id="solar-fuel-cost-slider" class="utility-slider"><div class="utility-slider-caption">variable cost</div></div>
                  <div id="solar-cost-learning-rate-slider" class="utility-slider"><div class="utility-slider-caption">cost learning rate</div></div>
                  <div id="solar-co2-intensity-slider" class="utility-slider"><div class="utility-slider-caption">co2 intensity</div></div>
                  <div id="solar-plant-lifetime-slider" class="utility-slider"><div class="utility-slider-caption">plant lifetime</div></div>
                  <div id="solar-max-capacity-factor-slider" class="utility-slider"><div class="utility-slider-caption">max cap factor</div></div>
                </div>
              </div>

              <div class="my-mdl-tabs__panel" id="wind-tab">
                <div class="utility-controls-option option wind">
                  <div>
                    <div class="utility-source-legend-tile"></div>
                    <label class="utility-source-legend-label">Wind plan</label>
                  </div>
                  <div id="wind-ramp0-build-fraction-slider" class="utility-slider"><div class="utility-slider-caption">ramp build to</div></div>
                  <div id="wind-ramp0-at-year-slider" class="utility-slider"><div class="utility-slider-caption">at year</div></div>
                  <div id="wind-ramp1-build-fraction-slider" class="utility-slider"><div class="utility-slider-caption">ramp build to</div></div>
                  <div id="wind-ramp1-at-year-slider" class="utility-slider"><div class="utility-slider-caption">at year</div></div>
                </div>

                <div class="utility-controls-option option wind">
                  <div class="utility-source-legend-tile"></div>
                  <label class="utility-source-legend-label">Wind assumptions</label>
                  <div id="wind-initial-fraction-slider" class="utility-slider"><div class="utility-slider-caption">first year share</div></div>
                  <div id="wind-build-time-slider" class="utility-slider"><div class="utility-slider-caption">build time</div></div>
                  <div id="wind-build-cost-slider" class="utility-slider"><div class="utility-slider-caption">build cost</div></div>
                  <div id="wind-operating-cost-slider" class="utility-slider"><div class="utility-slider-caption">annual plant cost</div></div>
                  <div id="wind-fuel-cost-slider" class="utility-slider"><div class="utility-slider-caption">variable cost</div></div>
                  <div id="wind-cost-learning-rate-slider" class="utility-slider"><div class="utility-slider-caption">cost learning rate</div></div>
                  <div id="wind-co2-intensity-slider" class="utility-slider"><div class="utility-slider-caption">co2 intensity</div></div>
                  <div id="wind-plant-lifetime-slider" class="utility-slider"><div class="utility-slider-caption">plant lifetime</div></div>
                  <div id="wind-max-capacity-factor-slider" class="utility-slider"><div class="utility-slider-caption">max cap factor</div></div>
                </div>

              </div>

              <div class="my-mdl-tabs__panel" id="hydro-tab">
                <div class="utility-controls-option option hydro">
                  <div>
                    <div class="utility-source-legend-tile"></div>
                    <label class="utility-source-legend-label">Hydro plan</label>
                  </div>
                  <div id="hydro-ramp0-build-fraction-slider" class="utility-slider"><div class="utility-slider-caption">ramp build to</div></div>
                  <div id="hydro-ramp0-at-year-slider" class="utility-slider"><div class="utility-slider-caption">at year</div></div>
                  <div id="hydro-ramp1-build-fraction-slider" class="utility-slider"><div class="utility-slider-caption">ramp build to</div></div>
                  <div id="hydro-ramp1-at-year-slider" class="utility-slider"><div class="utility-slider-caption">at year</div></div>
                </div>

                <div class="utility-controls-option option hydro">
                  <div class="utility-source-legend-tile"></div>
                  <label class="utility-source-legend-label">Hydro assumptions</label>
                  <div id="hydro-initial-fraction-slider" class="utility-slider"><div class="utility-slider-caption">first year share</div></div>
                  <div id="hydro-build-time-slider" class="utility-slider"><div class="utility-slider-caption">build time</div></div>
                  <div id="hydro-build-cost-slider" class="utility-slider"><div class="utility-slider-caption">build cost</div></div>
                  <div id="hydro-operating-cost-slider" class="utility-slider"><div class="utility-slider-caption">annual plant cost</div></div>
                  <div id="hydro-fuel-cost-slider" class="utility-slider"><div class="utility-slider-caption">variable cost</div></div>
                  <div id="hydro-cost-learning-rate-slider" class="utility-slider"><div class="utility-slider-caption">cost learning rate</div></div>
                  <div id="hydro-co2-intensity-slider" class="utility-slider"><div class="utility-slider-caption">co2 intensity</div></div>
                  <div id="hydro-plant-lifetime-slider" class="utility-slider"><div class="utility-slider-caption">plant lifetime</div></div>
                  <div id="hydro-max-capacity-factor-slider" class="utility-slider"><div class="utility-slider-caption">max cap factor</div></div>
                </div>

              </div>

              <div class="my-mdl-tabs__panel" id="nuclear-tab">
                <div class="utility-controls-option option nuclear">
                  <div>
                    <div class="utility-source-legend-tile"></div>
                    <label class="utility-source-legend-label">Nuclear plan</label>
                  </div>
                  <div id="nuclear-ramp0-build-fraction-slider" class="utility-slider"><div class="utility-slider-caption">ramp build to</div></div>
                  <div id="nuclear-ramp0-at-year-slider" class="utility-slider"><div class="utility-slider-caption">at year</div></div>
                  <div id="nuclear-ramp1-build-fraction-slider" class="utility-slider"><div class="utility-slider-caption">ramp build to</div></div>
                  <div id="nuclear-ramp1-at-year-slider" class="utility-slider"><div class="utility-slider-caption">at year</div></div>
                </div>

                <div class="utility-controls-option option nuclear">
                  <div class="utility-source-legend-tile"></div>
                  <label class="utility-source-legend-label">Nuclear assumptions</label>
                  <div id="nuclear-initial-fraction-slider" class="utility-slider"><div class="utility-slider-caption">first year share</div></div>
                  <div id="nuclear-build-time-slider" class="utility-slider"><div class="utility-slider-caption">build time</div></div>
                  <div id="nuclear-build-cost-slider" class="utility-slider"><div class="utility-slider-caption">build cost</div></div>
                  <div id="nuclear-operating-cost-slider" class="utility-slider"><div class="utility-slider-caption">annual plant cost</div></div>
                  <div id="nuclear-fuel-cost-slider" class="utility-slider"><div class="utility-slider-caption">variable cost</div></div>
                  <div id="nuclear-cost-learning-rate-slider" class="utility-slider"><div class="utility-slider-caption">cost learning rate</div></div>
                  <div id="nuclear-co2-intensity-slider" class="utility-slider"><div class="utility-slider-caption">co2 intensity</div></div>
                  <div id="nuclear-plant-lifetime-slider" class="utility-slider"><div class="utility-slider-caption">plant lifetime</div></div>
                  <div id="nuclear-max-capacity-factor-slider" class="utility-slider"><div class="utility-slider-caption">max cap factor</div></div>
                </div>

              </div>

              <div class="my-mdl-tabs__panel" id="ng-tab">
                <div class="utility-controls-option option ng" id="utility-controls-option-ng">
                  <div>
                    <div class="utility-source-legend-tile"></div>
                    <label class="utility-source-legend-label">
                      Gas plan
                    </label>
                  </div>
                  <div id="ng-ramp0-build-fraction-slider" class="utility-slider"><div class="utility-slider-caption">ramp build to</div></div>
                  <div id="ng-ramp0-at-year-slider" class="utility-slider"><div class="utility-slider-caption">at year</div></div>
                  <div id="ng-ramp1-build-fraction-slider" class="utility-slider"><div class="utility-slider-caption">ramp build to</div></div>
                  <div id="ng-ramp1-at-year-slider" class="utility-slider"><div class="utility-slider-caption">at year</div></div>
                </div>

                <div class="utility-controls-option option ng">
                  <div class="utility-source-legend-tile"></div>
                  <label class="utility-source-legend-label">Natural gas assumptions</label>
                  <div id="ng-initial-fraction-slider" class="utility-slider"><div class="utility-slider-caption">first year share</div></div>
                  <div id="ng-build-time-slider" class="utility-slider"><div class="utility-slider-caption">build time</div></div>
                  <div id="ng-build-cost-slider" class="utility-slider"><div class="utility-slider-caption">build cost</div></div>
                  <div id="ng-operating-cost-slider" class="utility-slider"><div class="utility-slider-caption">annual plant cost</div></div>
                  <div id="ng-fuel-cost-slider" class="utility-slider"><div class="utility-slider-caption">variable cost</div></div>
                  <div id="ng-cost-learning-rate-slider" class="utility-slider"><div class="utility-slider-caption">cost learning rate</div></div>
                  <div id="ng-co2-intensity-slider" class="utility-slider"><div class="utility-slider-caption">co2 intensity</div></div>
                  <div id="ng-plant-lifetime-slider" class="utility-slider"><div class="utility-slider-caption">plant lifetime</div></div>
                  <div id="ng-max-capacity-factor-slider" class="utility-slider"><div class="utility-slider-caption">max cap factor</div></div>
                </div>
              </div>

              <div class="my-mdl-tabs__panel" id="coal-tab">
                <div class="utility-controls-option option coal" id="utility-controls-option-coal">
                  <div>
                    <div class="utility-source-legend-tile"></div>
                    <label class="utility-source-legend-label">
                      Coal <span class="ccs-label">+ CCS</span> plan
                    </label>
                  </div>
                  <div id="coal-ramp0-build-fraction-slider" class="utility-slider"><div class="utility-slider-caption">ramp build to</div></div>
                  <div id="coal-ramp0-at-year-slider" class="utility-slider"><div class="utility-slider-caption">at year</div></div>
                  <div id="coal-ramp1-build-fraction-slider" class="utility-slider"><div class="utility-slider-caption">ramp build to</div></div>
                  <div id="coal-ramp1-at-year-slider" class="utility-slider"><div class="utility-slider-caption">at year</div></div>
                </div>

                <div class="utility-controls-option option coal">
                  <div class="utility-source-legend-tile"></div>
                  <label class="utility-source-legend-label">Coal assumptions</label>
                  <div id="coal-initial-fraction-slider" class="utility-slider"><div class="utility-slider-caption">first year share</div></div>
                  <div id="coal-build-time-slider" class="utility-slider"><div class="utility-slider-caption">build time</div></div>
                  <div id="coal-build-cost-slider" class="utility-slider"><div class="utility-slider-caption">build cost</div></div>
                  <div id="coal-operating-cost-slider" class="utility-slider"><div class="utility-slider-caption">annual plant cost</div></div>
                  <div id="coal-fuel-cost-slider" class="utility-slider"><div class="utility-slider-caption">variable cost</div></div>
                  <div id="coal-cost-learning-rate-slider" class="utility-slider"><div class="utility-slider-caption">cost learning rate</div></div>
                  <div id="coal-co2-intensity-slider" class="utility-slider"><div class="utility-slider-caption">co2 intensity</div></div>
                  <div id="coal-plant-lifetime-slider" class="utility-slider"><div class="utility-slider-caption">plant lifetime</div></div>
                  <div id="coal-max-capacity-factor-slider" class="utility-slider"><div class="utility-slider-caption">max cap factor</div></div>
                </div>

              </div>

              <div class="my-mdl-tabs__panel" id="battery-tab">
                <div class="utility-controls-option option battery" id="utility-controls-option-battery">
                  <div>
                    <div class="utility-source-legend-tile"></div>
                    <label class="utility-source-legend-label">
                      Battery plan
                    </label>
                  </div>
                  <div id="battery-ramp0-build-fraction-slider" class="utility-slider"><div class="utility-slider-caption">ramp build to</div></div>
                  <div id="battery-ramp0-at-year-slider" class="utility-slider"><div class="utility-slider-caption">at year</div></div>
                  <div id="battery-ramp1-build-fraction-slider" class="utility-slider"><div class="utility-slider-caption">ramp build to</div></div>
                  <div id="battery-ramp1-at-year-slider" class="utility-slider"><div class="utility-slider-caption">at year</div></div>
	        </div>

                <div class="utility-controls-option option battery">
                  <div class="utility-source-legend-tile"></div>
                  <label class="utility-source-legend-label">Battery assumptions</label>
                  <div id="battery-initial-fraction-slider" class="utility-slider"><div class="utility-slider-caption">first year share</div></div>
                  <div id="battery-build-time-slider" class="utility-slider"><div class="utility-slider-caption">build time</div></div>
                  <div id="battery-build-cost-slider" class="utility-slider"><div class="utility-slider-caption">build cost</div></div>
                  <div id="battery-operating-cost-slider" class="utility-slider"><div class="utility-slider-caption">annual plant cost</div></div>
                  <div id="battery-fuel-cost-slider" class="utility-slider"><div class="utility-slider-caption">variable cost</div></div>
                  <div id="battery-cost-learning-rate-slider" class="utility-slider"><div class="utility-slider-caption">cost learning rate</div></div>
                  <div id="battery-co2-intensity-slider" class="utility-slider"><div class="utility-slider-caption">co2 intensity</div></div>
                  <div id="battery-plant-lifetime-slider" class="utility-slider"><div class="utility-slider-caption">plant lifetime</div></div>
                  <div id="battery-max-capacity-factor-slider" class="utility-slider"><div class="utility-slider-caption">max cap factor</div></div>
                  <div id="battery-storage-round-trip-efficiency-slider" class="utility-slider"><div class="utility-slider-caption">round-trip efficiency</div></div>
                  <div id="battery-storage-hours-slider" class="utility-slider"><div class="utility-slider-caption">storage duration</div></div>
                </div>
              </div>

              <div class="my-mdl-tabs__panel" id="h2-tab">
                <div class="utility-controls-option option h2">
                  <div>
                    <div class="utility-source-legend-tile"></div>
                    <label class="utility-source-legend-label">H2 plan</label>
                  </div>
                  <div id="h2-ramp0-build-fraction-slider" class="utility-slider"><div class="utility-slider-caption">ramp build to</div></div>
                  <div id="h2-ramp0-at-year-slider" class="utility-slider"><div class="utility-slider-caption">at year</div></div>
                  <div id="h2-ramp1-build-fraction-slider" class="utility-slider"><div class="utility-slider-caption">ramp build to</div></div>
                  <div id="h2-ramp1-at-year-slider" class="utility-slider"><div class="utility-slider-caption">at year</div></div>
                </div>

                <div class="utility-controls-option option h2">
                  <div class="utility-source-legend-tile"></div>
                  <label class="utility-source-legend-label">H2 assumptions</label>
                  <div id="h2-initial-fraction-slider" class="utility-slider"><div class="utility-slider-caption">first year share</div></div>
                  <div id="h2-build-time-slider" class="utility-slider"><div class="utility-slider-caption">build time</div></div>
                  <div id="h2-build-cost-slider" class="utility-slider"><div class="utility-slider-caption">build cost</div></div>
                  <div id="h2-operating-cost-slider" class="utility-slider"><div class="utility-slider-caption">annual plant cost</div></div>
                  <div id="h2-fuel-cost-slider" class="utility-slider"><div class="utility-slider-caption">variable cost</div></div>
                  <div id="h2-cost-learning-rate-slider" class="utility-slider"><div class="utility-slider-caption">cost learning rate</div></div>
                  <div id="h2-co2-intensity-slider" class="utility-slider"><div class="utility-slider-caption">co2 intensity</div></div>
                  <div id="h2-plant-lifetime-slider" class="utility-slider"><div class="utility-slider-caption">plant lifetime</div></div>
                  <div id="h2-max-capacity-factor-slider" class="utility-slider"><div class="utility-slider-caption">max cap factor</div></div>
                  <div id="h2-storage-round-trip-efficiency-slider" class="utility-slider"><div class="utility-slider-caption"></div></div>
                  <div id="h2-storage-hours-slider" class="utility-slider"><div class="utility-slider-caption"></div></div>
                </div>
              </div>

              </div>

	      <!-- biomass -->
            </div>
          </div>

          <!-- General Assumptions -->
          <div class="mode-data-controls">
	    <div class="utility-controls-row">
              <div class="utility-controls-option option general">
                <div class="utility-source-legend-tile"></div>
                <label class="utility-source-legend-label">General Assumptions</label>
                <i id="tooltip-launcher-general-assumptions" class="material-icons info">info_outline</i>
                <span class="tooltip mdl-tooltip mdl-tooltip--right"
                      for="tooltip-launcher-general-assumptions">
                  <ul>
                    <li>Discount rate: annual discount for computing LCOE.</li>
                    <li>Demand growth rate: annual increase in demand.</li>
                    <li>Carbon price: additional cost applied per metric ton of CO2e emissions.</li>
                  </ul>
                </span>
                <div id="discount-rate-slider" class="utility-slider"><div class="utility-slider-caption">discount rate</div></div>
                <div id="demand-growth-rate-slider" class="utility-slider"><div class="utility-slider-caption">demand growth rate</div></div>
                <div id="carbon-price-slider" class="utility-slider"><div class="utility-slider-caption">carbon price</div></div>
              </div>
            </div>
          </div>

          <!-- presets -->
          <div class="mdl-grid utility-presets-container">
            <div class="preset-container">
              <span class="preset-label">Presets</span>
              <i id="tooltip-launcher-utility-presets" class="material-icons info">info_outline</i>
              <span class="tooltip mdl-tooltip mdl-tooltip--right"
                    for="tooltip-launcher-utility-presets">
                The buttons below select different preset scenarios.
              </span><br/>
              <label class="preset mdl-icon-toggle mdl-js-icon-toggle" for="preset-util-default">
                <input type="checkbox" id="preset-util-default" class="mdl-icon-toggle__input">
                <span class="mdl-icon-toggle__label">Default</span>
              </label>
              <label class="preset mdl-icon-toggle mdl-js-icon-toggle" for="preset-util-re">
                <input type="checkbox" id="preset-util-re" class="mdl-icon-toggle__input">
                <span class="mdl-icon-toggle__label">RE</span>
              </label>
              <label class="preset mdl-icon-toggle mdl-js-icon-toggle" for="preset-util-nuclear">
                <input type="checkbox" id="preset-util-nuclear" class="mdl-icon-toggle__input">
                <span class="mdl-icon-toggle__label">Nuclear</span>
              </label>
              <label class="preset mdl-icon-toggle mdl-js-icon-toggle" for="preset-util-no-h2">
                <input type="checkbox" id="preset-util-no-h2" class="mdl-icon-toggle__input">
                <span class="mdl-icon-toggle__label">No H2</span>
              </label>
              <label class="preset mdl-icon-toggle mdl-js-icon-toggle" for="preset-util-gas">
                <input type="checkbox" id="preset-util-gas" class="mdl-icon-toggle__input">
                <span class="mdl-icon-toggle__label">Gas</span>
              </label>
              <label class="preset mdl-icon-toggle mdl-js-icon-toggle" for="preset-util-flat">
                <input type="checkbox" id="preset-util-flat" class="mdl-icon-toggle__input">
                <span class="mdl-icon-toggle__label">Flat</span>
              </label>
            </div>
          </div>
        </div>

      </div> <!-- utility mode -->

      <!-- About appendix -->
      <div class="appendix hidden" id="about-appendix">
        <h1>About</h1>
        <p>
          This web page is an interactive model of the New England
          electricity grid. It projects power supply and demand
          from 2020 through 2040 and lets you adjust plans to
          build or retire various sources of electricity, to see
          the cost and carbon impacts. The goal is to help people
          concerned about climate change explore and communicate
          our options.
        </p>

        <p>
          The model is designed to be simple enough to play with, but
          detailed enough to draw plausible conclusions. The top part
          of the model display can show projected electricity demand
          and supply for the New England grid (ISO-NE) an overview of
          20 years with monthly averages, or 1 week with hourly values
          (either the first week with missed demand, or the week with
          highest demand if demand is satisfied), or 20 years of CO2
          emissions along with a cost summary.
        </p>

        <p>Below the output display, there are 8 tabs for the 8
          modeled electricity generation sources: solar, wind,
          hydroelectric, nuclear, natural gas, coal, batteries,
          and hydrogen. Click on a tab to adjust the controls for
          that source. The <b>plan</b> sliders are controls for
          future decisions about changing the capacity of the
          source. Below the plan sliders are
          the <b>assumptions</b> sliders, which reflect my
          understanding of the characteristics of the
          source. These parameters determine the intitial
          conditions of the model as well as the costs,
          capabilties, time constraints, and CO2 impacts of the
          source. You can adjust these assumptions to account for
          better information, to model a different scenario than
          the default, or just to explore. When assumption sliders
          have been changed from the defaults, they are
          highlighted so you know that the outcome might not be
          comparable to plans under the default assumptions.
        </p>

        <p>As you change the controls, the webpage URL captures
          the slider positions. If you save or share the URL,
          re-opening the URL will restore your settings and show
          the resulting outcome. If you want to return to the
          defaults, you can use the Default button at the bottom
          of the page, or double-click on the individual sliders.
        </p>

        <h2>Caveats</h2>

        <ul>
          <li>Numbers and code haven't been fully reviewed and
            validated, expect revisions.</li>

          <li>This tool does not optimize, it just shows you the
            results of the plan that you give it. Planning &
            optimizing is up to you.</li>

          <li>There's no attempt to model locational value or
            import/export.</li>

          <li>LCOE and CO2 are for the period 2020-2040. The
            initial fleet is inherited at no cost, and there's no
            value ascribed to the fleet at the end of 2039. Watch
            for boundary effects.</li>

          <li>No spinning reserve or capacity reserve requirements
	    are modelled.  Real grid operators would build more
	    capacity than what this model requires and so costs
	    would be a bit higher.</li>

          <li>The gas model is based on simple cycle turbines,
            which are cheap and ramp fast but burn more gas per kWh
            than combined cycle.</li>

          <li>Initial conditions are based on the ISO-NE grid mix but
            the model does not capture in detail current construction
            in progress as of 2020, or the age of the existing fleet
            in 2020. This might penalize solar & wind scenarios
            somewhat.
          </li>
        </ul>

        <h2>Details</h2>
        <p>
          The demand profile
	  is <a href="https://www.iso-ne.com/isoexpress/web/reports/load-and-demand/-/tree/zone-info">
	  observed hourly data</a> from 6 years (2013-2018) of the New
	  England electricity grid (ISO-NE), along with
	  the <a href="https://www.iso-ne.com/isoexpress/web/reports/operations/-/tree/daily-gen-fuel-type">
	  hourly solar and wind production</a> for the same hours. The
	  profiles were preprocessed to normalize annual demand and
	  solar/wind capacity (see inputdata/prepare.py), and then the
	  initial grid mixes are set to approximate the
	  ISO-NE <a href="https://www.iso-ne.com/isoexpress/web/reports/operations/-/tree/net-ener-peak-load">grid
	  mix</a> for the first 11 months of 2019.
	</p>

	<p>
	  I chose ISO-NE partly because it is a challenging case
          for wind and solar. If renewable energy can decarbonize
          ISO-NE, it can work in many other places.
        </p>

        <p>
          To get 20 years of data, the six year profiles are
          repeated 3.33 times.  Demand is scaled by the
          (adjustable) demand growth rate, to model economic
          growth and coming changes like EV charging, heat pumps
          for heating, and electrification of industry.
        </p>

        <h2>CO2 outcomes reported by the tool</h2>
        <p>
          The CO2 budget for 2020-2040 is chosen as 2020 emissions
          times 7.5. This is represents ramping emissions from
          present rate down to zero over 15 years. I believe this
          is roughly compatible with 1.5C warming scenarios
          (assuming similar reductions across the world and across
          other sectors). Please let me know if you have a better
          rationale & target. [TODO footnote]
        </p>

        <p>
          The CO2 reported is total lifecycle CO2 emissions from
          electricity generation in ISO-NE over the 20-year
          timespan of the simulation. It also includes (smaller)
          effects of direct waste heat and water vapor
          emissions. <a href="">[MZJ 2019]</a> gives a range of
          values for various sources, broken out by lifecycle,
          thermal and water vapor, and other categories.
        </p>

        <p>Lifecycle analysis for a source includes the CO2
          impacts of the processes used to construct the source,
          and is notoriously tricky to pin down because there are
          so many variables. One of the most important variables
          is the CO2 intensity of the electricity grid used by the
          factories making the materials in a source. For
          fossil-fuel sources this is less tricky because the
          direct fuel emissions dominate. But for solar, wind and
          nuclear, the range of estimates is large. For the
          purpose of this model, which reports system CO2 across
          the whole grid, my solution for the solar, wind and
          nuclear values is to use the low end of reported
          lifecycle CO2 intensity, plus whatever (small) direct
          emissions are involved. The justification is that the
          CO2 from low-carbon sources does not significantly add
          to system CO2 until the system becomes relatively
          decarbonized. But as that happens, the CO2 impact of
          industrial production should similarly decline. This
          does not correctly handle effects of plant build and
          lifetimes but it's simple and I think it leads to
          reasonable results.
        </p>

        <p>Values by source, in gCO2e/kWh:</p>
        <ul>
          <li>solar: 8</li>
          <li>wind: 5</li>
          <li>hydro: 31</li>
          <li>nuclear: 13</li>
          <li>gas: 447 (adjusted in validation process below)</li>
          <li>coal: 927</li>
          <li>battery: 0</li>
          <li>h2: 4 (direct emissions from turbines)</li>
        </ul>

        <h2>Cost outcomes reported by the tool</h2>
        <p>
          The costs are derived by computing the timing and size
          of expenditures for plant construction, operation, and
          fuel, discounted by the specified discount rate
          according to the year in which they occur. To compute
          the
          <a href="https://en.wikipedia.org/wiki/Cost_of_electricity_by_source#Levelized_cost_of_electricity">
            Levelized Cost of Electricity
          </a>
          (LCOE), the discounted expenditure is divided by the
          discounted energy delivered to the grid. This does not
          include the construction cost for the initial fleet of
          sources, and does not credit the value and costs of the
          fleet or energy generated after 2040.
        </p>
        <p>
          Because the tool is computing LCOE of generation, it
          does not give retail rates or do any market
          analysis. Retail rates are usually much higher and have
          to cover the cost of operating and maintaining the grid,
          among other things. However, cost of generation is a key
          driver of prices charged to customers.
        </p>

        <h2>Energy generation cost assumptions</h2>
        <h3>Power Sources</h3>
        <p>
          For all power sources, we model costs arising from the following sources:
        </p>
        <ul>
          <li>
            Capital: Cost to build the plant ($ per Watt of capacity)
          </li>
          <li>
            Fixed: Cost to operate and maintain the plant ($ per Kilowatt of capacity per year)
          </li>
          <li>
            Variable: Cost of fuel, operations and maintenance to
            generate energy ($ per Megawatt hour).
          </li>
        </ul>

        <p>The default capital, fixed and variable cost values for the sources are:</p>
        <ul>
          <li>Solar: $1.0/W, $10.5/KW/y, $0/MWh, 30y life.</li>
          <li>Wind: $1.3/W, $32/KW/y, $0/MWh, 20y life.</li>
          <li>Hydro: $2.95/W, $40.85/KW/y, $1.36/MWh, 50y life.</li>
          <li>Nuclear: $9.55/W, $120/KW/y, $12.0/MWh, 40y life.</li>
          <li>Gas: $0.825/W, $13.1/KW/y, $36.2/MWh, 20y life.</li>
          <li>Coal: $4.62/W, $61.1/KW/y, $18.9/MWh, 40y life.</li>
          <li>Battery (4hr): $1.26/W, $26.8/KW/y, $0/MWh, 20y life.</li>
          <li>H2 (720hr): $2.08/W, $20/W, $5.5/MWh, 20y life.</li>
        </ul>
        <p>The solar (PV crystalline), wind (onshore), gas
          (peaking), nuclear, coal and battery (lithium) values are
          derived
          from <a href="https://www.lazard.com/media/451086/lazards-levelized-cost-of-energy-version-130-vf.pdff">[Lazard LCOE v13
            2019]</a> and <a href="https://www.lazard.com/media/451087/lazards-levelized-cost-of-storage-version-50-vf.pdf">[Lazard LCOS v5]</a>
	  by taking the average value of the cost & time
          ranges.  Hydro values are derived
          from <a href="https://www.eia.gov/outlooks/aeo/assumptions/pdf/table_8.2.pdf">[EIA
            Outlook 2019]</a>.

          The H2 values are based
          on <a href="https://www.hydrogen.energy.gov/pdfs/14004_h2_production_cost_pem_electrolysis.pdf">[energy.gov]</a>
          for PEM
          electrolyzers, <a href="https://prod-ng.sandia.gov/techlib-noauth/access-control.cgi/2011/114845.pdf">[Sandia]</a>
          for salt cavern storage, and assumes turbine costs are
          similar to gas turbines.</p>

        <h2>Validation</h2>
        <p>
          This model has not been validated by others; it
          certainly has errors and inaccuracies. I would
          appreciate corrections.
        </p>
        <p>
          I did a very basic validation based on the 2017 ISO
          emissions reported
          at <a href="https://www.iso-ne.com/static-assets/documents/2019/04/2017_emissions_report.pdf">[iso-ne.com]</a>.
          The report gives a grid mix of 48% gas, 1% oil, 2% coal,
          31% nuclear, 7% hydro, 7% other renewables (trash,
          biomass, etc), 3% wind, and ~1% solar. Production was
          102,500 GWh, with 31.7 Mt CO2 produced, and average of
          309 g/kWh. I checked and tweaked the initial values in
          this model to produce a similar result. (I added the oil
          and other renewables production to gas.)
        </p>

        <h2>Carbon capture and sequestration (CCS)</h2>
        <p>
          I'm a bit skeptical of CCS so I didn't include it
          explicitly in the tool.  However, you are encouraged to
          adjust the assumptions for Natural Gas and Coal to
          explore the effects of CCS.
        </p>

        <h2>Transmission</h2>
        <p>
          For simplicity I omitted transmittion and location from
          the model. This makes the grid balancing easier because
          it's assumed that generation is always close to use. But
          it makes grid balancing harder because there is no
          provision for import/export of electricity to
          neighboring grids. ISO-NE actually imports a significant
          percentage of electrity from Ontario, New Brunswick, and
          New York, but that complicates the modeling and makes it
          less useful as a proxy for other grids. The intention is
          to make it slightly harder to decarbonize the model than
          to decarbonize a real grid with ability to
          import/export.
        </p>

        <h2>Hydropower</h2>
        <p>
          I modeled hydropower as a constant flat source. This is
          not realistic -- depending on the facility, hydro can
          have a lot of dispatchability and storage features, and
          at other times can be constrained by weather and
          environmental requirements. But, those complexities are
          very particular to local conditions and work against
          applying the results of this tool to other grids around
          the world, so I chose to keep the hydro model very
          basic.
        </p>

        <h2>Acknowledgements</h2>

        <p>Grid Transition is by Thatcher Ulrich, based heavily on
          the wonderful
          <a href="https://google.github.io/energystrategies/">Energy
            Strategies</a> tool released in 2016.
        </p>

        <p>
          Energy Strategies: concept, design and development by
          Amber Robson, Corrie Scalisi, Doug Fritz, Drew Bryant,
          John Platt, Jonny Mack, Josh Freed, Kate Brandt, Matt
          Jones, Michael Terrell, Orion Pritchard, Philippe
          Larochelle, Ross Koningstein, Ryan Fitzpatrick and
          Saleem Van Groenou.
        </p>

	<h2>Similar tools</h2>

	<p>In addition
	to <a href="https://google.github.io/energystrategies/">energystrategies</a>,
	see also:</p>

	<ul>
	  <li><a href="http://energynumbers.info/balancing/">EnergyNumbers-Balancing</a>
	  - a nice one, shows load-duration curves for storage.</li>

	  <li><a href="https://whobs.org/">Build your own
	  zero-emission electricity supply</a>, has selectable regions
	  of the world, optimizes for you, targets a flat demand
	  profile.</li>

	  <li><a href="https://www.energypolicy.solutions/">energypolicy.solutions</a>
	  - total energy systems, you set policies. Comprehensive but
	  lots of clicking required.</li>

	</ul>

	<h2>Further Reading</h2>

	<ul>
	  <li>
	    See <a href="https://www.vibrantcleanenergy.com/media/reports/">Vibrant
	      Clean Energy</a> for much more detailed grid modeling,
	    including locations of supply and demand, and transmission.
	  </li>

	  <li>
	    <a href="https://www.brattle.com/news-and-knowledge/news/brattle-study-achieving-new-englands-ambitious-2050-greenhouse-gas-reduction-goals-will-require-keeping-the-foot-on-the-clean-energy-deployment-accelerator">Brattle Group study of New England GHG Reduction Goals.</a>
</lip>

<li><a href="https://www.cell.com/one-earth/fulltext/S2590-3322(19)30225-8">Impacts
    of Green New Deal Energy Plans [...] in 143 Countries</a> -
  gives 100% Wind/Water/Solar plans for 143 countries.
</li>
	</ul>

        <h2>Code</h2>
        <p>
	  See <a href="https://github.com/tulrich/gridx2020">https://github.com/tulrich/gridx2020</a>
	</p>

	<h2>Contact</h2>
	<p>
	  email: tu@tulrich.com | Twitter: <a href="https://twitter.com/ThatcherUlrich">@ThatcherUlrich</a>
	</p>
      </div>  <!-- About -->
    </div> <!-- tabs -->
  </main> <!-- main content -->
</div> <!-- container -->

<script src="bundle.js"></script>

</body>
</html>
